generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum ReminderStatus {
  scheduled
  sent
  canceled
}

model Reminder {
  id        String         @id @default(cuid())
  chatId    String
  text      String
  remindAt  DateTime
  status    ReminderStatus @default(scheduled)
  createdAt DateTime       @default(now())
  sentAt    DateTime?

  @@index([status, remindAt])
  @@index([chatId, status])
}

model ProcessedUpdate {
  id        Int      @id
  createdAt DateTime @default(now())
  @@index([createdAt])
}
